(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"1QnK":function(n,e,l){"use strict";l.r(e);var t=l("CcnG"),o=function(){return function(){}}(),i=l("pMnS"),r=l("oBZk"),a=l("ZZ/e"),u=l("gIcY"),s=l("Ip0R"),c=l("mrSG"),h=function(){function n(n,e,l){this.googleChartsVersion=e,this.mapsApiKey=l,this.googleScriptLoadingNotifier=new t.m,this.googleScriptIsLoading=!1,this.localeId=n,null===this.googleChartsVersion&&(this.googleChartsVersion="46")}return n.prototype.load=function(n){var e=this;return new Promise(function(l,t){void 0===l&&(l=Function.prototype),void 0===t&&(t=Function.prototype),e.loadGoogleChartsScript().then(function(){var t={language:e.localeId,callback:l,packages:n};e.mapsApiKey&&(t.mapsApiKey=e.mapsApiKey),google.charts.load(e.googleChartsVersion,t)}).catch(function(n){return t()})})},n.prototype.loadGoogleChartsScript=function(){var n=this;return new Promise(function(e,l){if(void 0===e&&(e=Function.prototype),void 0===l&&(l=Function.prototype),"undefined"!=typeof google&&google.charts)e();else if(n.googleScriptIsLoading)n.googleScriptLoadingNotifier.subscribe(function(n){n?e():l()});else{n.googleScriptIsLoading=!0;var t=document.createElement("script");t.type="text/javascript",t.src="https://www.gstatic.com/charts/loader.js",t.async=!0,t.defer=!0,t.onload=function(){n.googleScriptIsLoading=!1,n.googleScriptLoadingNotifier.emit(!0),e()},t.onerror=function(){n.googleScriptIsLoading=!1,n.googleScriptLoadingNotifier.emit(!1),l()},document.getElementsByTagName("head")[0].appendChild(t)}})},n}(),p=function(){function n(n){this.tooltipDOMElement=n}return n.prototype.setPosition=function(e,l){this.tooltipDOMElement.nativeElement.style.left=e+n.PIXELS,this.tooltipDOMElement.nativeElement.style.top=l+n.PIXELS},n.prototype.getDOMElement=function(){return this.tooltipDOMElement},n.PIXELS="px",n}(),d=function(){function n(n,e){var l=this;this.mouseOverListener=function(n){var e=l.parseMouseEvent(n);return e.tooltip=l.getHTMLTooltip(),e},this.mouseOutListener=function(n){return l.parseMouseEvent(n)},this.selectListener=function(){var n={message:"select",row:null,column:null,selectedRowValues:[],selectedRowFormattedValues:[],columnLabel:""},e=l.wrapper.visualization.getSelection(),t=e[e.length-1];if(!t)return n.message="deselect",n;var o=t;if(null!=t.row){n.row=o.row;for(var i=[],r=[],a=l.wrapper.getDataTable(),u=a.getNumberOfColumns(),s=0;s<u;s++)i.push(a.getValue(o.row,s)),r.push(a.getFormattedValue(o.row,s));n.selectedRowValues=i,n.selectedRowFormattedValues=r}return null!=o.column&&(n.column=o.column,n.columnLabel=l.getColumnLabelAtPosition(o)),t.name&&(n.columnLabel=t.name),n},this.el=n,this.loaderService=e,this.chartSelect=new t.m,this.chartSelectOneTime=new t.m,this.chartReady=new t.m,this.chartReadyOneTime=new t.m,this.chartError=new t.m,this.chartErrorOneTime=new t.m,this.mouseOver=new t.m,this.mouseOverOneTime=new t.m,this.mouseOut=new t.m,this.mouseOutOneTime=new t.m}return n.prototype.ngOnChanges=function(n){var e=this;if(n.data){if(!this.data)return;this.options=this.data.options,this.options||(this.options={}),this.data.component=this,this.loaderService.load().then(function(){void 0!==e.wrapper&&e.wrapper.getChartType()===e.data.chartType||(e.convertOptions(),e.data.opt_firstRowIsData&&Array.isArray(e.data.dataTable)&&(e.data.dataTable=google.visualization.arrayToDataTable(e.data.dataTable,!0)),e.wrapper=new google.visualization.ChartWrapper(e.data),e.registerChartWrapperEvents()),e.draw()})}},n.prototype.draw=function(){this.wrapper.setDataTable(this.data.dataTable),this.convertOptions(),this.wrapper.setOptions(this.options),this.reformat(),this.wrapper.draw(this.el.nativeElement.querySelector("div"))},n.prototype.reformat=function(){if(this.data&&void 0!==this.data.formatters)for(var n=0,e=this.data.formatters;n<e.length;n++){var l=e[n],t=google.visualization[l.type],o=l.options,i=new t(o);if("ColorFormat"===l.type&&o)for(var r=0,a=o.ranges;r<a.length;r++){var u=a[r];void 0!==u.fromBgColor&&void 0!==u.toBgColor?i.addGradientRange(u.from,u.to,u.color,u.fromBgColor,u.toBgColor):i.addRange(u.from,u.to,u.color,u.bgcolor)}for(var s=this.wrapper.getDataTable(),c=0,h=l.columns;c<h.length;c++)i.format(s,h[c])}},n.prototype.getSelectorBySeriesType=function(n){return{bars:"bar#%s#%r",haxis:"hAxis#0#label",line:"point#%s#%r",legend:"legendentry#%s",area:"point#%s#%r"}[n]},n.prototype.getSeriesByColumn=function(n){for(var e=0,l=this.wrapper.getDataTable(),t=n-1;t>=0;t--){var o=l.getColumnRole(t),i=l.getColumnType(t);"data"!==o&&"number"!==i||e++}return e},n.prototype.getBoundingBoxForItem=function(n){var e={top:0,left:0,width:0,height:0};if(this.cli){var l=n.column,t=this.getSeriesByColumn(l),o=n.row,i=this.options.seriesType;if(this.options.series&&this.options.series[t]&&this.options.series[t].type&&(i=this.options.series[t].type),i){var r=this.getSelectorBySeriesType(i);if(r){r=r.replace("%s",t+"").replace("%c",l+"").replace("%r",o+"");var a=this.cli.getBoundingBox(r);a&&(e=a)}}}return e},n.prototype.getValueAtPosition=function(n){return null==n.row?null:this.wrapper.getDataTable().getValue(n.row,n.column)},n.prototype.getColumnTypeAtPosition=function(n){return this.wrapper.getDataTable().getColumnType(n.column)||""},n.prototype.getColumnLabelAtPosition=function(n){return this.wrapper.getDataTable().getColumnLabel(n.column)||""},n.prototype.getHTMLTooltip=function(){var n=new t.k(this.el.nativeElement.querySelector(".google-visualization-tooltip"));return new p(n)},n.prototype.parseMouseEvent=function(n){var e=this.wrapper.getChartType(),l=n.column;if(null==l)switch(e){case"Timeline":l=3===this.wrapper.getDataTable().getNumberOfColumns()?0:1;break;default:l=0}var t={row:n.row,column:l};return{position:n,boundingBox:this.getBoundingBoxForItem(t),value:this.getValueAtPosition(t),columnType:this.getColumnTypeAtPosition(t),columnLabel:this.getColumnLabelAtPosition(t)}},n.prototype.unregisterEvents=function(){google.visualization.events.removeAllListeners(this.wrapper.getChart()),google.visualization.events.removeAllListeners(this.wrapper)},n.prototype.registerChartEvents=function(){var n=this,e=this.wrapper.getChart();this.cli=e.getChartLayoutInterface?e.getChartLayoutInterface():null,this.mouseOver.observers.length>0&&google.visualization.events.addListener(e,"onmouseover",function(e){var l=n.parseMouseEvent(e);l.tooltip=n.getHTMLTooltip(),n.mouseOver.emit(l)}),this.mouseOverOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseover",function(e){var l=n.parseMouseEvent(e);l.tooltip=n.getHTMLTooltip(),n.mouseOverOneTime.emit(l)}),this.mouseOut.observers.length>0&&google.visualization.events.addListener(e,"onmouseout",function(e){var l=n.parseMouseEvent(e);n.mouseOut.emit(l)}),this.mouseOutOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseout",function(e){var l=n.parseMouseEvent(e);n.mouseOutOneTime.emit(l)})},n.prototype.registerChartWrapperEvents=function(){var n=this;google.visualization.events.addListener(this.wrapper,"ready",function(){n.chartReady.emit({message:"Chart ready"})}),google.visualization.events.addOneTimeListener(this.wrapper,"ready",function(){n.chartReadyOneTime.emit({message:"Chart ready (one time)"}),n.registerChartEvents()}),google.visualization.events.addListener(this.wrapper,"error",function(e){n.chartError.emit(e)}),google.visualization.events.addOneTimeListener(this.wrapper,"error",function(e){n.chartErrorOneTime.emit(e)}),this.addListener(this.wrapper,"select",this.selectListener,this.chartSelect),this.addOneTimeListener(this.wrapper,"select",this.selectListener,this.chartSelectOneTime)},n.prototype.addListener=function(n,e,l,t){google.visualization.events.addListener(n,e,function(){t.emit(l())})},n.prototype.addOneTimeListener=function(n,e,l,t){google.visualization.events.addOneTimeListener(n,e,function(){t.emit(l())})},n.prototype.convertOptions=function(){try{this.options=google.charts[this.data.chartType].convertOptions(this.options)}catch(n){return}},n}(),g=t.qb({encapsulation:2,styles:[],data:{}});function b(n){return t.Jb(2,[(n()(),t.sb(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}var m=l("dKRk"),f=l("gZPr"),v=function(){function n(n,e){this.apiJai=n,this.loadingController=e,this.dates=f.a.getDays(),this.locations=[],this.trabalhos=[],this.trabalhosFiltered=[],this.dateModel=f.a.getCurrentDay(),this.loading=null}return n.prototype.ngOnInit=function(){this.updateTrabalhos()},n.prototype.presentLoading=function(){return c.b(this,void 0,void 0,function(){var n;return c.e(this,function(e){switch(e.label){case 0:return n=this,[4,this.loadingController.create({message:"Carregando..."})];case 1:return n.loading=e.sent(),[4,this.loading.present()];case 2:return e.sent(),[2]}})})},n.prototype.updateTrabalhos=function(){var n=this;this.presentLoading(),this.apiJai.getValuesByDay(this.dateModel).then(function(e){n.locations=e.map(function(n){return n[9]}).filter(function(n,e,l){return l.indexOf(n)===e}).sort(),n.trabalhos=e,n.filterTrabalhos()})},n.prototype.filterTrabalhos=function(){var n=this;this.trabalhosFiltered=this.trabalhos.slice(),this.locationModel&&(this.trabalhosFiltered=this.trabalhosFiltered.filter(function(e){return e[9]===n.locationModel})),this.loadChart()},n.prototype.clearFilter=function(){this.locationModel=null,this.trabalhosFiltered=this.trabalhos.slice()},n.prototype.loadChart=function(){var n=this;this.apiJai.getAvaliacoes().then(function(e){n.apiJai.getCheck().then(function(l){var t=0,o=0,i=0;n.trabalhosFiltered.map(function(n){e.findIndex(function(e){return e[0]===n[2]})>-1?t+=1:l.findIndex(function(e){return e[0]===n[1]})>-1?i+=1:o+=1}),n.trabalhosChart={chartType:"PieChart",dataTable:[["Estado","Trabalhos"],["Avaliado",t],["N\xe3o Avaliado",o],["Em Andamento",i]],options:{width:380,colors:["#32CD32","#FF0000","#FFA500"]}};var r=n.trabalhosFiltered.map(function(n){return n[1]}).filter(function(n,e,l){return l.indexOf(n)===e}),a=l.filter(function(e,l,t){return e[2]===n.dateModel&&t.findIndex(function(n){return n[2]===e[2]})>-1}).map(function(n){return n[0]}).filter(function(n,e,l){return l.indexOf(n)===e}),u=l.filter(function(e,l,t){return e[2]===n.dateModel&&"in-sub"===e[4]&&t.findIndex(function(n){return n[2]===e[2]})>-1}).map(function(n){return n[0]}).filter(function(n,e,l){return l.indexOf(n)===e}),s=r.length,c=u.length,h=0;console.log(r),console.log("avaliadores presentes"+a),a.map(function(n){r.indexOf(n)>-1&&(h+=1)}),n.avaliadoresChart={chartType:"PieChart",dataTable:[["Check-in","Avaliadores"],["Efetuado",h-c],["Efetuado - Substituto",c],["N\xe3o Efetuado",s-h]],options:{width:380,colors:["#32CD32","#033DFC","#FF0000"]}},n.loading&&n.loading.dismiss()})})},n}(),C=t.qb({encapsulation:0,styles:[[""]],data:{}});function y(n){return t.Jb(0,[(n()(),t.sb(0,0,null,null,2,"ion-select-option",[],null,null,null,r.L,r.q)),t.rb(1,49152,null,0,a.lb,[t.h,t.k,t.z],{value:[0,"value"]},null),(n()(),t.Ib(2,0,["",""]))],function(n,e){n(e,1,0,t.wb(1,"",e.context.$implicit,""))},function(n,e){n(e,2,0,e.context.$implicit)})}function w(n){return t.Jb(0,[(n()(),t.sb(0,0,null,null,2,"ion-select-option",[],null,null,null,r.L,r.q)),t.rb(1,49152,null,0,a.lb,[t.h,t.k,t.z],{value:[0,"value"]},null),(n()(),t.Ib(2,0,["",""]))],function(n,e){n(e,1,0,t.wb(1,"",e.context.$implicit,""))},function(n,e){n(e,2,0,e.context.$implicit)})}function T(n){return t.Jb(0,[(n()(),t.sb(0,0,null,null,6,"ion-header",[],null,null,null,r.E,r.i)),t.rb(1,49152,null,0,a.z,[t.h,t.k,t.z],null,null),(n()(),t.sb(2,0,null,0,4,"ion-toolbar",[["color","primary"]],null,null,null,r.R,r.v)),t.rb(3,49152,null,0,a.zb,[t.h,t.k,t.z],{color:[0,"color"]},null),(n()(),t.sb(4,0,null,0,2,"ion-title",[],null,null,null,r.Q,r.u)),t.rb(5,49152,null,0,a.xb,[t.h,t.k,t.z],null,null),(n()(),t.Ib(-1,0,["Gr\xe1ficos"])),(n()(),t.sb(7,0,null,null,57,"ion-content",[],null,null,null,r.D,r.h)),t.rb(8,49152,null,0,a.s,[t.h,t.k,t.z],null,null),(n()(),t.sb(9,0,null,0,33,"div",[["class","ion-padding"]],null,null,null,null,null)),(n()(),t.sb(10,0,null,null,29,"ion-list",[],null,null,null,r.J,r.n)),t.rb(11,49152,null,0,a.M,[t.h,t.k,t.z],null,null),(n()(),t.sb(12,0,null,0,13,"ion-item",[],null,null,null,r.H,r.l)),t.rb(13,49152,null,0,a.F,[t.h,t.k,t.z],null,null),(n()(),t.sb(14,0,null,0,2,"ion-label",[],null,null,null,r.I,r.m)),t.rb(15,49152,null,0,a.L,[t.h,t.k,t.z],null,null),(n()(),t.Ib(-1,0,["Data"])),(n()(),t.sb(17,0,null,0,8,"ion-select",[["placeholder","Selecione uma data"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,e,l){var o=!0,i=n.component;return"ionBlur"===e&&(o=!1!==t.Eb(n,18)._handleBlurEvent(l.target)&&o),"ionChange"===e&&(o=!1!==t.Eb(n,18)._handleChangeEvent(l.target)&&o),"ngModelChange"===e&&(o=!1!==(i.dateModel=l)&&o),"ionChange"===e&&(o=!1!==i.updateTrabalhos()&&o),o},r.M,r.p)),t.rb(18,16384,null,0,a.Ib,[t.k],null,null),t.Fb(1024,null,u.b,function(n){return[n]},[a.Ib]),t.rb(20,671744,null,0,u.e,[[8,null],[8,null],[8,null],[6,u.b]],{model:[0,"model"]},{update:"ngModelChange"}),t.Fb(2048,null,u.c,null,[u.e]),t.rb(22,16384,null,0,u.d,[[4,u.c]],null,null),t.rb(23,49152,null,0,a.kb,[t.h,t.k,t.z],{placeholder:[0,"placeholder"]},null),(n()(),t.hb(16777216,null,0,1,null,y)),t.rb(25,278528,null,0,s.h,[t.N,t.K,t.s],{ngForOf:[0,"ngForOf"]},null),(n()(),t.sb(26,0,null,0,13,"ion-item",[],null,null,null,r.H,r.l)),t.rb(27,49152,null,0,a.F,[t.h,t.k,t.z],null,null),(n()(),t.sb(28,0,null,0,2,"ion-label",[],null,null,null,r.I,r.m)),t.rb(29,49152,null,0,a.L,[t.h,t.k,t.z],null,null),(n()(),t.Ib(-1,0,["Local"])),(n()(),t.sb(31,0,null,0,8,"ion-select",[["placeholder","Selecione um local"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,e,l){var o=!0,i=n.component;return"ionBlur"===e&&(o=!1!==t.Eb(n,32)._handleBlurEvent(l.target)&&o),"ionChange"===e&&(o=!1!==t.Eb(n,32)._handleChangeEvent(l.target)&&o),"ngModelChange"===e&&(o=!1!==(i.locationModel=l)&&o),"ionChange"===e&&(o=!1!==i.filterTrabalhos()&&o),o},r.M,r.p)),t.rb(32,16384,null,0,a.Ib,[t.k],null,null),t.Fb(1024,null,u.b,function(n){return[n]},[a.Ib]),t.rb(34,671744,null,0,u.e,[[8,null],[8,null],[8,null],[6,u.b]],{model:[0,"model"]},{update:"ngModelChange"}),t.Fb(2048,null,u.c,null,[u.e]),t.rb(36,16384,null,0,u.d,[[4,u.c]],null,null),t.rb(37,49152,null,0,a.kb,[t.h,t.k,t.z],{placeholder:[0,"placeholder"]},null),(n()(),t.hb(16777216,null,0,1,null,w)),t.rb(39,278528,null,0,s.h,[t.N,t.K,t.s],{ngForOf:[0,"ngForOf"]},null),(n()(),t.sb(40,0,null,null,2,"ion-button",[["color","primary"],["expand","block"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.clearFilter()&&t),t},r.x,r.b)),t.rb(41,49152,null,0,a.i,[t.h,t.k,t.z],{color:[0,"color"],expand:[1,"expand"]},null),(n()(),t.Ib(-1,0,["Limpar filtro"])),(n()(),t.sb(43,0,null,0,10,"ion-card",[["class","welcome-card"]],null,null,null,r.C,r.d)),t.rb(44,49152,null,0,a.k,[t.h,t.k,t.z],null,null),(n()(),t.sb(45,0,null,0,4,"ion-card-header",[],null,null,null,r.A,r.f)),t.rb(46,49152,null,0,a.m,[t.h,t.k,t.z],null,null),(n()(),t.sb(47,0,null,0,2,"ion-card-title",[],null,null,null,r.B,r.g)),t.rb(48,49152,null,0,a.o,[t.h,t.k,t.z],null,null),(n()(),t.Ib(-1,0,["Trabalhos Avaliados"])),(n()(),t.sb(50,0,null,0,3,"ion-card-content",[],null,null,null,r.z,r.e)),t.rb(51,49152,null,0,a.l,[t.h,t.k,t.z],null,null),(n()(),t.sb(52,0,null,0,1,"google-chart",[],null,null,null,b,g)),t.rb(53,573440,null,0,d,[t.k,h],{data:[0,"data"]},null),(n()(),t.sb(54,0,null,0,10,"ion-card",[["class","welcome-card"]],null,null,null,r.C,r.d)),t.rb(55,49152,null,0,a.k,[t.h,t.k,t.z],null,null),(n()(),t.sb(56,0,null,0,4,"ion-card-header",[],null,null,null,r.A,r.f)),t.rb(57,49152,null,0,a.m,[t.h,t.k,t.z],null,null),(n()(),t.sb(58,0,null,0,2,"ion-card-title",[],null,null,null,r.B,r.g)),t.rb(59,49152,null,0,a.o,[t.h,t.k,t.z],null,null),(n()(),t.Ib(-1,0,["Check-in Avaliadores"])),(n()(),t.sb(61,0,null,0,3,"ion-card-content",[],null,null,null,r.z,r.e)),t.rb(62,49152,null,0,a.l,[t.h,t.k,t.z],null,null),(n()(),t.sb(63,0,null,0,1,"google-chart",[],null,null,null,b,g)),t.rb(64,573440,null,0,d,[t.k,h],{data:[0,"data"]},null)],function(n,e){var l=e.component;n(e,3,0,"primary"),n(e,20,0,l.dateModel),n(e,23,0,"Selecione uma data"),n(e,25,0,l.dates),n(e,34,0,l.locationModel),n(e,37,0,"Selecione um local"),n(e,39,0,l.locations),n(e,41,0,"primary","block"),n(e,53,0,l.trabalhosChart),n(e,64,0,l.avaliadoresChart)},function(n,e){n(e,17,0,t.Eb(e,22).ngClassUntouched,t.Eb(e,22).ngClassTouched,t.Eb(e,22).ngClassPristine,t.Eb(e,22).ngClassDirty,t.Eb(e,22).ngClassValid,t.Eb(e,22).ngClassInvalid,t.Eb(e,22).ngClassPending),n(e,31,0,t.Eb(e,36).ngClassUntouched,t.Eb(e,36).ngClassTouched,t.Eb(e,36).ngClassPristine,t.Eb(e,36).ngClassDirty,t.Eb(e,36).ngClassValid,t.Eb(e,36).ngClassInvalid,t.Eb(e,36).ngClassPending)})}function E(n){return t.Jb(0,[(n()(),t.sb(0,0,null,null,1,"app-graficos",[],null,null,null,T,C)),t.rb(1,114688,null,0,v,[m.a,a.Db],null,null)],function(n,e){n(e,1,0)},null)}var O=t.ob("app-graficos",v,E,{},{},[]),L=l("ZYCi"),k=function(){return function(){}}();l.d(e,"GraficosPageModuleNgFactory",function(){return z});var z=t.pb(o,[],function(n){return t.Bb([t.Cb(512,t.j,t.ab,[[8,[i.a,O]],[3,t.j],t.x]),t.Cb(4608,s.k,s.j,[t.u,[2,s.r]]),t.Cb(4608,u.g,u.g,[]),t.Cb(4608,a.b,a.b,[t.z,t.g]),t.Cb(4608,a.Eb,a.Eb,[a.b,t.j,t.q]),t.Cb(4608,a.Hb,a.Hb,[a.b,t.j,t.q]),t.Cb(4608,h,h,[t.u,[2,"googleChartsVersion"],[2,"mapsApiKey"]]),t.Cb(1073742336,s.b,s.b,[]),t.Cb(1073742336,u.f,u.f,[]),t.Cb(1073742336,u.a,u.a,[]),t.Cb(1073742336,a.Bb,a.Bb,[]),t.Cb(1073742336,L.n,L.n,[[2,L.s],[2,L.m]]),t.Cb(1073742336,k,k,[]),t.Cb(1073742336,o,o,[]),t.Cb(1024,L.k,function(){return[[{path:"",component:v}]]},[])])})}}]);